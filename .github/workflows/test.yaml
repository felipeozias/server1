name: Testes
run-name: Realizando testes 👁‍🗨👁‍🗨

on:
  workflow_run:
    workflows: [Build]
    types:
      - completed

jobs:
  sucesso:
    runs-on: ubuntu-latest
    if: ${{ github.event.workflow_run.conclusion == 'success' }}
    steps:
      - name: Checkout código-fonte
        uses: actions/checkout@v3

      - name: Instalando dependências
        run: yarn

      - name: Testanto aplicação com Jest
        run: yarn test && echo '🟢🟢🟢 OS TESTES PASSARAM 🚀'

  # falha:
  #   runs-on: ubuntu-latest
  #   if: ${{ github.event.workflow_run.conclusion == 'failure' }}
  #   steps:
  #     - name: Ocorreu falha no build
  #       run: echo '🔴🔴🔴 TESTES NÃO REALIZADOS POIS OCORREU FALHA NO BUILD'
        
